# ูุธุงู ุงููุตู ุจูู ูุฏู ุงูุชุณุฌูู ููุฏู ุงูููุชุฑ

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุทููุฑ ูุธุงู ูุณูุญ ุจุงูุชุญูู ุงููููุตู ูู ุงููุฏู ุงูุชู ุชุธูุฑ ูู:
1. **ุตูุญุฉ ุงูุชุณุฌูู** - ุงููุฏู ุงููุชุงุญุฉ ูููุณุชุฎุฏููู ุงูุฌุฏุฏ ุนูุฏ ุงูุชุณุฌูู
2. **ููุงุชุฑ ุงูุจุญุซ** - ุงููุฏู ุงููุชุงุญุฉ ูููุชุฑุฉ ุงูุฎุฏูุงุช ูุงูุดุฑูุงุช
3. **ููุงููุง** - ูุฏู ุชุธูุฑ ูู ููุง ุงููููุนูู

## ุงูุชุญุฏูุซุงุช ุงูุชู ุชูุช

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุฅุถุงูุฉ ุญูู cityType
```sql
ALTER TABLE cities ADD COLUMN cityType TEXT DEFAULT 'both';
```

ุงูููู ุงูููููุฉ:
- `'signup'`: ุชุธูุฑ ูู ุตูุญุฉ ุงูุชุณุฌูู ููุท
- `'filter'`: ุชุธูุฑ ูู ููุงุชุฑ ุงูุจุญุซ ููุท
- `'both'`: ุชุธูุฑ ูู ููุง ุงููููุนูู (ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ)

#### ุชุญุฏูุซ ุงูุจูุงูุงุช ุงูุญุงููุฉ
ุนูุฏ ุชุดุบูู ุงูุณูุฑุจุช:
- ุฃูู 10 ูุฏู โ `cityType = 'signup'`
- ุจุงูู ุงููุฏู โ `cityType = 'filter'`

### 2. API Endpoints

#### GET `/api/admin/cities`
**ูุนุงููุงุช ุฌุฏูุฏุฉ:**
```
?type=signup    // ุฌูุจ ูุฏู ุงูุชุณุฌูู (signup + both)
?type=filter    // ุฌูุจ ูุฏู ุงูููุชุฑ (filter + both)
?type=both      // ุฌูุจ ุงููุฏู ุงููุดุชุฑูุฉ ููุท
```

**ูุซุงู:**
```javascript
// ููุญุตูู ุนูู ูุฏู ุงูุชุณุฌูู
fetch('/api/admin/cities?type=signup')

// ููุญุตูู ุนูู ูุฏู ุงูููุชุฑ
fetch('/api/admin/cities?type=filter')
```

#### POST `/api/admin/cities`
**ุญูู ุฌุฏูุฏ ูู ุงูุจูุงูุงุช ุงููุฑุณูุฉ:**
```json
{
  "nameAr": "ุงูุฑูุงุถ",
  "nameEn": "Riyadh",
  "isVisible": 1,
  "sortOrder": 0,
  "cityType": "signup"  // ุฌุฏูุฏ
}
```

#### PUT `/api/admin/cities`
**ุญูู ุฌุฏูุฏ ููุชุญุฏูุซ:**
```json
{
  "id": 1,
  "cityType": "both"  // ููู ุงููุฏููุฉ ูููุง ุงููุณููู
}
```

### 3. ูุงุฌูุฉ ุฅุฏุงุฑุฉ ุงููุฏู

#### ุงูุชุจููุจุงุช ุงูุซูุงุซุฉ
```
๐ ูุฏู ุงูุชุณุฌูู | ๐ ูุฏู ุงูููุชุฑ | ๐ ููุงููุง
```

ูู ุชุจููุจ ูุนุฑุถ:
- ุฅุญุตุงุฆูุงุช ุฎุงุตุฉ ุจุงููุณู
- ุงููุฏู ุงููุดุทุฉ ูู ูุฐุง ุงููุณู
- ุงููุฏู ุงููุฎููุฉ ูู ูุฐุง ุงููุณู

#### ุฅุถุงูุฉ ูุฏููุฉ ุฌุฏูุฏุฉ
ุนูุฏ ุงูุถุบุท ุนูู "ุฅุถุงูุฉ ูุฏููุฉ ุฌุฏูุฏุฉ":
- ูุชู ุชุนููู `cityType` ุญุณุจ ุงูุชุงุจ ุงููุดุท ุชููุงุฆูุงู
- ูููู ุชุบููุฑ ูููุน ุงูุธููุฑ ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ:
  - ๐ ุงูุชุณุฌูู ููุท
  - ๐ ุงูููุชุฑ ููุท
  - ๐ ููุงููุง

#### ุชุนุฏูู ูุฏููุฉ ููุฌูุฏุฉ
- ูููู ููู ุงููุฏููุฉ ุจูู ุงูุฃูุณุงู ุนุจุฑ ุชุบููุฑ "ูููุน ุงูุธููุฑ"
- ุฌููุน ุงูููุฒุงุช ุงูุฃุฎุฑู (ุฅุฎูุงุก/ุฅุธูุงุฑุ ุญุฐูุ ุชุฑุชูุจ) ุชุนูู ุจุดูู ูููุตู ููู ูุณู

### 4. ุงูุชูุงูู ูุน ุตูุญุงุช ุงููุดุฑูุน

#### ุตูุญุฉ ุงูุชุณุฌูู (`/signup`)
```javascript
// ุชุญุฏูุซ ุงูู API call
fetch('/api/admin/cities?type=signup')  // ููุท ูุฏู ุงูุชุณุฌูู
```

#### ุตูุญุงุช ุงูููุชุฑ
```javascript
// ูู ุฃู ุตูุญุฉ ุจูุง ููุชุฑ ูุฏู
fetch('/api/admin/cities?type=filter')  // ููุท ูุฏู ุงูููุชุฑ
```

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุณููุงุฑูู 1: ุฅุถุงูุฉ ูุฏููุฉ ููุชุณุฌูู ููุท
1. ุงุฐูุจ ูู `/admin-panel/cities`
2. ุงุถุบุท ุนูู ุชุงุจ "๐ ูุฏู ุงูุชุณุฌูู"
3. ุงุถุบุท "ุฅุถุงูุฉ ูุฏููุฉ ุฌุฏูุฏุฉ"
4. ุฃุฏุฎู ุงูุจูุงูุงุช (ุงูู cityType ุณูููู signup ุชููุงุฆูุงู)
5. ุงุญูุธ

### ุงูุณููุงุฑูู 2: ููู ูุฏููุฉ ูู ุงูููุชุฑ ููุชุณุฌูู
1. ุงุฐูุจ ูุชุงุจ "๐ ูุฏู ุงูููุชุฑ"
2. ุงุถุบุท "ุชุนุฏูู" ุนูู ุงููุฏููุฉ
3. ุบููุฑ "ูููุน ุงูุธููุฑ" ุฅูู "๐ ุงูุชุณุฌูู ููุท" ุฃู "๐ ููุงููุง"
4. ุงุญูุธ ุงูุชุบููุฑุงุช

### ุงูุณููุงุฑูู 3: ุฅุฎูุงุก ูุฏููุฉ ูู ุงูุชุณุฌูู ููุท
1. ุงุฐูุจ ูุชุงุจ "๐ ูุฏู ุงูุชุณุฌูู"
2. ุงุถุบุท ุฒุฑ "๐๏ธ ุฅุฎูุงุก" ุนูู ุงููุฏููุฉ
3. ุงููุฏููุฉ ุณุชุฎุชูู ูู ุตูุญุฉ ุงูุชุณุฌูู ููุท
4. ุณุชุจูู ุธุงูุฑุฉ ูู ุงูููุชุฑ (ุฅุฐุง ูุงูุช filter ุฃู both)

### ุงูุณููุงุฑูู 4: ุฅูุดุงุก ูุฏููุฉ ูุดุชุฑูุฉ
1. ุงุถุบุท ุนูู ุชุงุจ "๐ ููุงููุง"
2. ุฃุถู ูุฏููุฉ ุฌุฏูุฏุฉ
3. ุงุฎุชุฑ "ูููุน ุงูุธููุฑ" = "๐ ููุงููุง"
4. ุงููุฏููุฉ ุณุชุธูุฑ ูู ุงูุชุณุฌูู ูุงูููุชุฑ ูุนุงู

## ูุซุงู ุนููู

### ูุจู ุงูุชุญุฏูุซ:
```
ุงููุฏู: [ุงูุฑูุงุถุ ุฌุฏุฉุ ููุฉุ ...]
- ุชุธูุฑ ูู ุงูุชุณุฌูู โ
- ุชุธูุฑ ูู ุงูููุชุฑ โ
- ูุง ูููู ุงููุตู ุจููููุง โ
```

### ุจุนุฏ ุงูุชุญุฏูุซ:
```
ูุฏู ุงูุชุณุฌูู (signup):
  - ุงูุฑูุงุถุ ุฌุฏุฉุ ููุฉ (ุงููุฏู ุงูุฑุฆูุณูุฉ)
  
ูุฏู ุงูููุชุฑ (filter):
  - ุฌููุน ุงููุฏู ุจูุง ูููุง ุงูุตุบูุฑุฉ ูุงููุฑู
  
ูุฏู ููุงููุง (both):
  - ุงููุฏู ุงููุจุฑู ุงููุณุชุฎุฏูุฉ ุจูุซุฑุฉ
```

## ุงูููุงุฆุฏ

โ **ูุฑููุฉ ุฃูุจุฑ** - ุชุญูู ูููุตู ููู ูุณู
โ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู** - ููุงุฆู ูุฎุชุตุฑุฉ ูู ุงูุชุณุฌููุ ุดุงููุฉ ูู ุงูููุชุฑ
โ **ุณูููุฉ ุงูุฅุฏุงุฑุฉ** - ูุงุฌูุฉ ุชุจููุจุงุช ูุงุถุญุฉ
โ **ูุง ุญุงุฌุฉ ููุชูุฑุงุฑ** - ุงุณุชุฎุฏุงู `both` ูููุฏู ุงููุดุชุฑูุฉ
โ **ุจูุงูุงุช ููุธูุฉ** - ูุตู ุงููุฎุงูู ุจูู ุงูุชุณุฌูู ูุงูุจุญุซ

## ุงููููุงุช ุงููุญุฏุซุฉ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `scripts/update-cities-add-type.js` - ุณูุฑุจุช ุฅุถุงูุฉ cityType

### APIs
- `app/api/admin/cities/route.ts` - ุฏุนู ูุนุงูู type ูุงูููุชุฑุฉ

### ูุงุฌูุงุช ุงููุณุชุฎุฏู
- `app/admin-panel/cities/page.tsx` - ูุงุฌูุฉ ุงูุชุจููุจุงุช ูุงูุฅุฏุงุฑุฉ ุงููููุตูุฉ
- `app/signup/page.tsx` - ุงุณุชุฎุฏุงู ูุฏู ุงูุชุณุฌูู ููุท

## ููุงุญุธุงุช ุชูููุฉ

- ุงุณุชุฎุฏุงู `OR` ูู ุงูุงุณุชุนูุงู: `WHERE (cityType = ? OR cityType = 'both')`
- ุงูุชุงุจ ุงููุดุท ูุญุฏุฏ ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ุนูุฏ ุงูุฅุถุงูุฉ
- ุงูุฅุญุตุงุฆูุงุช ุฏููุงููููุฉ ุญุณุจ ุงูุชุงุจ ุงููุดุท
- ุฌููุน ุงูุนูููุงุช (CRUD) ุชุนูู ุจุดูู ูุณุชูู ููู ูุณู
- ูุง ุชุฃุซูุฑ ุนูู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ (ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ `both`)

## ุงูุฎุทูุงุช ุงูุชุงููุฉ (ููุชุฑุญุฉ)

1. ุชุญุฏูุซ ุตูุญุงุช ุงูููุงุชุฑ ูุงุณุชุฎุฏุงู `?type=filter`
2. ุฅุถุงูุฉ ุฅููุงููุฉ ููู ุงููุฏู ุจูู ุงูุฃูุณุงู ุจุณุญุจ ูุฅููุงุช
3. ุฅุถุงูุฉ ุชูุฑูุฑ ููุถุญ ุชูุฒูุน ุงููุฏู
4. ุฅููุงููุฉ ูุณุฎ ูุฏููุฉ ูู ูุณู ูุขุฎุฑ
5. ุฅุถุงูุฉ ุตูุงุญูุงุช ูููุฏู (ูู ููููู ุฅุถุงูุฉ/ุญุฐู ูุฏู ุงูุชุณุฌูู vs ุงูููุชุฑ)
