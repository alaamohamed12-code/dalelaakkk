# โ ุชู ุฅุตูุงุญ ูุดููุฉ ุงูุตูุงุญูุงุช ุจูุฌุงุญ!

## ๐ฏ ุงููุดููุฉ
ูุงู ุงููุณุคูููู ุงูุฐูู ุชู ุฅูุดุงุคูู ุจุตูุงุญูุงุช ูุญุฏูุฏุฉ ูููููู ุงููุตูู ุฅูู ุฌููุน ุงูุตูุญุงุช ูุงูุฅุฌุฑุงุกุงุชุ ุญุชู ุงูุชู ุชู ููุนูู ูููุง.

## ๐ง ุงูุญู
ุชู ุฅูุดุงุก **ูุธุงู ุตูุงุญูุงุช ูุชูุฏู ูุขูู** ูุชุญูู ูู ุตูุงุญูุงุช ุงููุณุคูู ูู ูู ุตูุญุฉ ููู ุฅุฌุฑุงุก.

---

## ๐ฆ ูุง ุชู ุฅุถุงูุชู

### 1. **Hook ููุชุญูู ูู ุงูุตูุงุญูุงุช**
```typescript
// hooks/useAdminPermissions.ts
const { hasPermission, canAccessPage } = useAdminPermissions();

// ุงูุชุญูู ูู ุตูุงุญูุฉ
if (hasPermission('companies', 'delete')) {
  // ููููู ุงูุญุฐู
}
```

### 2. **ูููู ุญูุงูุฉ ุงูุตูุญุงุช**
```tsx
// ูุญูู ุงูุตูุญุฉ ูุงููุฉ
<PermissionGuard resource="companies" action="view">
  <YourPageContent />
</PermissionGuard>
```

### 3. **ููููุงุช ุญูุงูุฉ ุงูุฃุฒุฑุงุฑ**
```tsx
// ูุฎูู ุงูุฒุฑ ุฅุฐุง ูู ููู ูุฏูู ุตูุงุญูุฉ
<PermissionButton resource="users" action="delete" onClick={deleteUser}>
  ุญุฐู
</PermissionButton>
```

---

## ๐งช ููููุฉ ุงูุงุฎุชุจุงุฑ

### ุงูุญุณุงุจุงุช ุงููุชุงุญุฉ:

#### 1๏ธโฃ **Super Admin** (ูู ุงูุตูุงุญูุงุช)
```
ุงุณู ุงููุณุชุฎุฏู: Mahmoudussama12
ูููุฉ ุงููุฑูุฑ: 7odarotana
```
- โ ูุฑู ุฌููุน ุงูุฃุฒุฑุงุฑ ูู Dashboard
- โ ููููู ุงููุตูู ูุฌููุน ุงูุตูุญุงุช
- โ ููููู ุชูููุฐ ุฌููุน ุงูุฅุฌุฑุงุกุงุช

#### 2๏ธโฃ **Moderator** (ุตูุงุญูุงุช ูุญุฏูุฏุฉ)
```
ุงุณู ุงููุณุชุฎุฏู: moderator_test
ูููุฉ ุงููุฑูุฑ: test123
```

**ุงูุตูุงุญูุงุช ุงูููููุญุฉ:**
- โ ุนุฑุถ ุงูุดุฑูุงุช (ูุง ููููู ูุจูู/ุฑูุถ/ุญุฐู)
- โ ุนุฑุถ ุงููุณุชุฎุฏููู (ูุง ููููู ุชุนุฏูู/ุญุฐู)
- โ ุนุฑุถ ุงูุฎุฏูุงุช (ูุง ููููู ุชุนุฏูู/ุญุฐู)
- โ ุฅุฏุงุฑุฉ ุงูุชููููุงุช (ููุงููุฉ/ุฑูุถ/ุญุฐู)
- โ ุนุฑุถ ุงูุฑุณุงุฆู (ูุฑุงุกุฉ ููุท)
- โ ุนุฑุถ ุงูุนููุฏ (ูุฑุงุกุฉ ููุท)
- โ ุฅุฏุงุฑุฉ ุงูุฏุนู ุงูููู (ุฑุฏ ุนูู ุงูุชุฐุงูุฑ)

**ุงูุตูุงุญูุงุช ุงููุฑููุถุฉ:**
- โ ุฅุฑุณุงู ุฅุดุนุงุฑุงุช
- โ ุฅุฏุงุฑุฉ ุงููุฏู
- โ ุฅุฏุงุฑุฉ ุงููุฌุงูุงุช
- โ ุชุนุฏูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- โ ุฅุฏุงุฑุฉ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ
- โ ุชุนุฏูู ุงูุดุฑูุท ูุงูุฃุญูุงู
- โ ุฅุฏุงุฑุฉ ุงููุณุคูููู
- โ ุฅุฏุงุฑุฉ ุงูุนุถููุงุช

---

## ๐ฌ ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ

### โ ุงูุงุฎุชุจุงุฑ 1: Dashboard
1. ุณุฌูู ุฏุฎูู ุจุญุณุงุจ **Mahmoudussama12**
2. ุงูุธุฑ ููุญุฉ ุงูุชุญูู โ ุณุชุฌุฏ **ุฌููุน ุงูุฃุฒุฑุงุฑ** (15+ ุฒุฑ)
3. ุณุฌูู ุฎุฑูุฌ

4. ุณุฌูู ุฏุฎูู ุจุญุณุงุจ **moderator_test**
5. ุงูุธุฑ ููุญุฉ ุงูุชุญูู โ ุณุชุฌุฏ **ููุท 7 ุฃุฒุฑุงุฑ**:
   - ุฅุฏุงุฑุฉ ุงูุดุฑูุงุช
   - ุฅุฏุงุฑุฉ ุงูุชููููุงุช
   - ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
   - ูุฑุงุฌุนุฉ ุงูุฑุณุงุฆู
   - ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช
   - ุญุงูุงุช ุงูุชุนุงูุฏ
   - ุงูุฏุนู ุงูููู

### โ ุงูุงุฎุชุจุงุฑ 2: ุตูุญุฉ ุงูุดุฑูุงุช
1. ุณุฌูู ุฏุฎูู ุจุญุณุงุจ **moderator_test**
2. ุงุฐูุจ ุฅูู **ุฅุฏุงุฑุฉ ุงูุดุฑูุงุช**
3. ุณุชุฌุฏ:
   - โ ููููู **ุฑุคูุฉ** ุงูุดุฑูุงุช
   - โ ุฃุฒุฑุงุฑ ุงููุจูู/ุงูุฑูุถ **ูู ุชุธูุฑ**
   - โ ุฒุฑ ุงูุญุฐู **ูู ูุธูุฑ**

### โ ุงูุงุฎุชุจุงุฑ 3: ุตูุญุฉ ููููุนุฉ
1. ุณุฌูู ุฏุฎูู ุจุญุณุงุจ **moderator_test**
2. ุญุงูู ุงููุตูู ุฅูู: `/admin-panel/settings/admins`
3. ุณุชุธูุฑ ุดุงุดุฉ **"ููุณ ูุฏูู ุตูุงุญูุฉ"** ูุน:
   - ๐ซ ุฑุณุงูุฉ ูุงุถุญุฉ
   - ๐ ุชูุงุตูู ุงูุตูุงุญูุฉ ุงููุทููุจุฉ
   - ๐ ุฒุฑ ููุนูุฏุฉ ุฅูู Dashboard

### โ ุงูุงุฎุชุจุงุฑ 4: URL ูุจุงุดุฑ
1. ุณุฌูู ุฏุฎูู ุจุญุณุงุจ **moderator_test**
2. ุงูุชุจ ูู ุงููุชุตูุญ: `http://localhost:3000/admin-panel/cities`
3. ุณุชูุญููู ุชููุงุฆูุงู ุฅูู ุดุงุดุฉ **"ููุณ ูุฏูู ุตูุงุญูุฉ"**

---

## ๐จ ุงูุดุงุดุงุช

### ุดุงุดุฉ ุฑูุถ ุงููุตูู
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ          ๐ซ ููุณ ูุฏูู ุตูุงุญูุฉ          โ
โ                                        โ
โ  ุนุฐุฑุงูุ ููุณ ูุฏูู ุงูุตูุงุญูุงุช ุงููุงุฒูุฉ  โ
โ  ูููุตูู ุฅูู ูุฐู ุงูุตูุญุฉ              โ
โ                                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ ุงูููุฑุฏ ุงููุทููุจ: ุงููุฏู           โ โ
โ  โ ุงูุฅุฌุฑุงุก ุงููุทููุจ: ุนุฑุถ             โ โ
โ  โ ุฏูุฑู ุงูุญุงูู: ูุดุฑู                โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                        โ
โ  [ ๐ ุงูุนูุฏุฉ ุฅูู ููุญุฉ ุงูุชุญูู ]       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ููุงุฑูุฉ ุงููุธุงู

| ุงูููุฒุฉ | ูุจู ุงูุฅุตูุงุญ | ุจุนุฏ ุงูุฅุตูุงุญ |
|--------|--------------|--------------|
| **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช** | โ ูุง ููุฌุฏ | โ ูู ูู ุตูุญุฉ ูุฒุฑ |
| **ุฅุฎูุงุก ุงูุฃุฒุฑุงุฑ** | โ ุชุธูุฑ ููุฌููุน | โ ุชุธูุฑ ุญุณุจ ุงูุตูุงุญูุฉ |
| **ุญูุงูุฉ ุงูุตูุญุงุช** | โ ุงูุฌููุน ูุตู | โ ูุญููุฉ ุจู Guard |
| **ุฑุณุงุฆู ุงูุฎุทุฃ** | โ ุบูุฑ ูุงุถุญุฉ | โ ูุงุถุญุฉ ุจุงูุนุฑุจู |
| **Super Admin** | โ๏ธ ููุณ ุงูุขุฎุฑูู | โ ูู ุงูุตูุงุญูุงุช |

---

## ๐ ุงูุฃูุงู

### ูุง ุชู ุชุทุจููู:
1. โ **ุงูุชุญูู ูู Frontend** - ูุง ุชุธูุฑ ุงูุฃุฒุฑุงุฑ ุงูููููุนุฉ
2. โ **ุงูุชุญูู ูู ูู ุตูุญุฉ** - ุจุงุณุชุฎุฏุงู PermissionGuard
3. โ **Super Admin ูุญูู** - ูุง ูููู ุชูููุฏู ุฃู ุญุฐูู
4. โ **ุฑุณุงุฆู ูุงุถุญุฉ** - ุงููุณุชุฎุฏู ูุนุฑู ููุงุฐุง ูููุน

### ููุงุญุธุฉ ูููุฉ:
โ๏ธ ูุฌุจ ุฃูุถุงู **ุญูุงูุฉ APIs** ูู Backend. ุงููุธุงู ุงูุญุงูู ูุญูู Frontend ููุท.

**ุงููููุงุช ุงููุทููุจ ุญูุงูุชูุง:**
- `/admin-panel/api/companies/route.ts`
- `/admin-panel/api/users/route.ts`
- ูุฌููุน APIs ุงูุฃุฎุฑู

**ุงูุญูุงูุฉ ุงูููุชุฑุญุฉ:**
```typescript
// ูู ุจุฏุงูุฉ ูู API
const admin = getAdminFromRequest(request);
if (!hasPermission(admin, 'companies', 'delete')) {
  return NextResponse.json({ error: 'ููุณ ูุฏูู ุตูุงุญูุฉ' }, { status: 403 });
}
```

---

## ๐ ููููุฉ ุฅุถุงูุฉ ูุณุคูู ุฌุฏูุฏ

### ูู ููุญุฉ ุงูุชุญูู:
1. ุณุฌูู ุฏุฎูู ุจุญุณุงุจ **Mahmoudussama12** (Super Admin)
2. ุงุฐูุจ ุฅูู **ุฅุฏุงุฑุฉ ุงููุณุคูููู**
3. ุงุถุบุท **ุฅุถุงูุฉ ูุณุคูู ุฌุฏูุฏ**
4. ุงุฎุชุฑ **ุงูุตูุงุญูุงุช** ุจุฏูุฉ:
   - โ ุถุน ุนูุงูุฉ ุนูู ุงูุตูุงุญูุงุช ุงููุทููุจุฉ ููุท
   - โ ูุง ุชุนุทู ุตูุงุญูุงุช ุบูุฑ ุถุฑูุฑูุฉ
5. ุงุญูุธ

### ุงููุชูุฌุฉ:
- ุงููุณุคูู ุงูุฌุฏูุฏ ุณูุฑู ููุท ุงูุฃุฒุฑุงุฑ ุงููุณููุญ ุจูุง
- ุนูุฏ ูุญุงููุฉ ุงููุตูู ูุตูุญุฉ ููููุนุฉ โ ุณููููุน ุชููุงุฆูุงู

---

## ๐ ุงููููุงุช ุงูุฌุฏูุฏุฉ

```
hooks/
  โโโ useAdminPermissions.ts          โ Hook ููุชุญูู ูู ุงูุตูุงุญูุงุช

components/admin/
  โโโ PermissionGuard.tsx             โ ุญูุงูุฉ ุงูุตูุญุงุช ุงููุงููุฉ
  โโโ PermissionElements.tsx          โ ุญูุงูุฉ ุงูุฃุฒุฑุงุฑ ูุงูุนูุงุตุฑ

PERMISSIONS_SYSTEM_GUIDE_AR.md       โ ุฏููู ุดุงูู ูููุธุงู
create-test-moderator.js              โ ุณูุฑูุจุช ุฅูุดุงุก ูุณุคูู ุชุฌุฑูุจู
```

---

## โ ุชุฃููุฏ ุงูุฅุตูุงุญ

| โ | ูุง ุชู ุฅุตูุงุญู |
|---|---------------|
| โ | ูุธุงู ุตูุงุญูุงุช ูุงูู ููุชูุฏู |
| โ | ุญูุงูุฉ ุฌููุน ุงูุตูุญุงุช |
| โ | ุฅุฎูุงุก ุงูุฃุฒุฑุงุฑ ุงูููููุนุฉ |
| โ | ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุจุงูุนุฑุจู |
| โ | Super Admin ูุฏูู ูู ุงูุตูุงุญูุงุช |
| โ | ูุณุคูู ุชุฌุฑูุจู ููุงุฎุชุจุงุฑ |
| โ | ุชูุซูู ุดุงูู |

---

## ๐ ุงูุชูุงุตู

**ุงููุดููุฉ:** ูุงู ุงููุณุคูููู ูุฑูู ูู ุดูุก ุญุชู ูู ูููุนูุง  
**ุงูุญู:** ูุธุงู ุตูุงุญูุงุช ูุชูุฏู ูุชุญูู ูู ูู ููุงู  
**ุงูุญุงูุฉ:** โ **ุชู ุงูุฅุตูุงุญ ุจูุฌุงุญ**

---

**ูููุฒูุฏ ูู ุงูุชูุงุตูู:** ุงูุฑุฃ `PERMISSIONS_SYSTEM_GUIDE_AR.md`
