# 🔊 إضافة صوت التنبيه للإشعارات

## الملفات المطلوبة

يحتاج نظام الإشعارات إلى بعض ملفات الوسائط في مجلد `/public`:

### 1. ملف الصوت (notification.mp3)
**المسار:** `/public/notification.mp3`

يمكنك استخدام أحد الخيارات التالية:

#### الخيار 1: تحميل صوت مجاني
- زر موقع: https://notificationsounds.com/
- أو: https://freesound.org/
- ابحث عن: "notification sound" أو "alert sound"
- حمل ملف MP3 قصير (1-2 ثانية)
- ضعه في `/public/notification.mp3`

#### الخيار 2: استخدام صوت iOS/Android
يمكنك نسخ أصوات التنبيه الافتراضية من هاتفك

#### الخيار 3: إنشاء صوت مخصص
استخدم أدوات مثل:
- Audacity (مجاني)
- GarageBand (Mac)
- FL Studio

**المواصفات المثالية:**
- التنسيق: MP3
- المدة: 0.5 - 2 ثانية
- الحجم: أقل من 100 KB
- Bitrate: 128 kbps
- Sample Rate: 44.1 kHz

---

### 2. أيقونة الإشعارات (icon.png)
**المسار:** `/public/icon.png`

**المواصفات:**
- الأبعاد: 192x192 بكسل (أو أكبر)
- التنسيق: PNG
- شفافية: يفضل
- المحتوى: شعار الموقع أو أيقونة جرس

**كيفية الإنشاء:**
1. افتح Photoshop أو Canva
2. أنشئ مربع 192x192
3. ضع شعار الموقع في المنتصف
4. احفظه كـ PNG
5. ضعه في `/public/icon.png`

---

### 3. شارة الإشعارات (badge.png)
**المسار:** `/public/badge.png`

**المواصفات:**
- الأبعاد: 96x96 بكسل
- التنسيق: PNG
- شفافية: يفضل
- المحتوى: أيقونة صغيرة أو حرف

**استخدام:**
تظهر في بعض الأنظمة كشارة صغيرة على الإشعار

---

## التركيب السريع

### خطوة 1: إنشاء الملفات
```bash
# إنشاء مجلد public إذا لم يكن موجوداً
mkdir -p public

# تحميل ملفات تجريبية (اختياري)
# يمكنك استبدالها بملفاتك الخاصة لاحقاً
```

### خطوة 2: وضع الملفات
```
public/
  ├── notification.mp3  ← صوت التنبيه
  ├── icon.png          ← أيقونة الإشعار (192x192)
  └── badge.png         ← شارة الإشعار (96x96)
```

### خطوة 3: التحقق
1. افتح متصفحك
2. اذهب إلى: `http://localhost:3000/notification.mp3`
3. يجب أن يشغل الصوت
4. كرر مع `icon.png` و `badge.png`

---

## إذا لم تضف الملفات

**لا مشكلة!** النظام سيعمل بشكل طبيعي:
- ✅ الإشعارات ستظهر
- ⚠️ لن يكون هناك صوت تنبيه
- ⚠️ ستظهر أيقونة افتراضية من المتصفح

**ستظهر رسالة في Console:**
```
Could not play sound: NotFoundError
```
يمكنك تجاهلها بأمان إذا لم تحتاج للصوت.

---

## مصادر مجانية للأصوات

### 1. Notification Sounds
- الموقع: https://notificationsounds.com/
- مجاني: ✅
- فئات متعددة: ✅
- تحميل مباشر: ✅

### 2. FreeSound
- الموقع: https://freesound.org/
- يتطلب تسجيل: نعم
- جودة عالية: ✅
- ترخيص Creative Commons: ✅

### 3. Zapsplat
- الموقع: https://www.zapsplat.com/
- مجاني للاستخدام: ✅
- آلاف الأصوات: ✅

### 4. صوت بسيط (مقترح)
ابحث عن: "subtle notification" أو "gentle alert"
هذه الأصوات لطيفة ولا تزعج المستخدم.

---

## التخصيص المتقدم

### تغيير مسار الصوت:
افتح `contexts/NotificationContext.tsx` وعدل السطر 104:
```typescript
const audio = new Audio('/notification.mp3')
//                       ↑
//              ضع مسار ملفك هنا
```

### تغيير مستوى الصوت:
```typescript
audio.volume = 0.3  // من 0.0 إلى 1.0
//             ↑
//        30% من الحد الأقصى
```

### إضافة أصوات متعددة:
```typescript
const sounds = {
  message: new Audio('/sounds/message.mp3'),
  alert: new Audio('/sounds/alert.mp3'),
  success: new Audio('/sounds/success.mp3')
}

// استخدم حسب نوع الإشعار
sounds.message.play()
```

---

## نصائح للصوت المثالي

### ✅ افعل:
- استخدم صوت قصير (0.5-1 ثانية)
- اختر صوتاً لطيفاً وغير مزعج
- اجعل مستوى الصوت منخفضاً (30-50%)
- اختبر على أجهزة مختلفة

### ❌ لا تفعل:
- تستخدم صوتاً طويلاً (أكثر من 3 ثواني)
- تستخدم صوتاً صاخباً أو مفاجئاً
- تجعل مستوى الصوت عالياً جداً
- تشغل الصوت عدة مرات بسرعة

---

## الاختبار

### اختبار الصوت:
```javascript
// افتح Console في المتصفح
const audio = new Audio('/notification.mp3')
audio.volume = 0.3
audio.play()
```

### اختبار الإشعار الكامل:
1. سجل دخول كـ Admin
2. اذهب إلى `/admin-panel/notifications`
3. أرسل إشعار تجريبي
4. انتظر 10 ثواني
5. يجب أن تسمع الصوت وترى الإشعار

---

## إيقاف الصوت (للتطوير)

إذا كان الصوت يزعجك أثناء التطوير:

```typescript
// في NotificationContext.tsx - علّق هذا السطر:
// audio.play().catch(e => console.log('Could not play sound:', e))
```

أو غير الشرط:
```typescript
if (false && typeof Audio !== 'undefined') {
  // لن يعمل الصوت
}
```

---

## الأسئلة الشائعة

**Q: هل يعمل الصوت على الموبايل؟**
A: نعم، لكن يتطلب تفاعل مستخدم أولاً (iOS)

**Q: لماذا لا يعمل الصوت؟**
A: تحقق من:
1. الملف موجود في `/public`
2. المتصفح يدعم تشغيل الصوت
3. المستخدم تفاعل مع الصفحة مرة واحدة على الأقل

**Q: هل يمكن تخصيص الصوت لكل نوع إشعار؟**
A: نعم! راجع قسم "إضافة أصوات متعددة" أعلاه

**Q: كيف أوقف الصوت بالكامل؟**
A: حذف أو تعليق الكود في `NotificationContext.tsx`

---

تم التحديث: 23 أكتوبر 2025
